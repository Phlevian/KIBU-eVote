<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cast Your Vote - KIBU Digital Democracy</title>
    <link rel="stylesheet" href="css/voting.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="voting-container">
        <!-- Header Section -->
        <header class="voting-header">
            <div class="header-content">
                <div class="election-info">
                    <h1>Student Council Elections 2025</h1>
                    <p>Choose your representatives for the academic year</p>
                </div>
                
                <div class="header-controls">
                    <div class="timer">
                        <span class="timer-icon">‚è∞</span>
                        <span class="timer-text">Time remaining: <span id="countdown">1 day 23:45:12</span></span>
                    </div>
                    
                    <div class="progress-indicator">
                        <span class="progress-text">Position <span id="current-position">1</span> of 13</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 8%"></div>
                        </div>
                    </div>
                    
                    <div class="security-badge">
                        <span class="security-icon">üîí</span>
                        <span>Encrypted & Blockchain Secured</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="voting-body">
            <!-- Main Voting Area -->
            <main class="voting-main">
                <!-- Position Card -->
                <div class="position-card">
                    <div class="position-header">
                        <div class="position-icon">üëë</div>
                        <div class="position-info">
                            <h2 id="position-title">Chairperson</h2>
                            <p id="position-description">Lead the student body and represent KIBU students</p>
                        </div>
                    </div>

                    <!-- Candidates Section -->
                    <div class="candidates-section">
                        <h3>Select Your Candidate</h3>
                        
                        <div class="candidates-grid" id="candidates-container">
                            <!-- Candidates will be dynamically loaded here -->
                        </div>

                        <!-- Abstain Option -->
                        <div class="abstain-card" id="abstain-option">
                            <div class="abstain-icon">‚ùå</div>
                            <div class="abstain-info">
                                <h4>I choose to abstain from this position</h4>
                                <p>You will not vote for any candidate in this position</p>
                            </div>
                            <button class="abstain-button">ABSTAIN</button>
                        </div>
                    </div>

                    <!-- Validation Message -->
                    <div class="validation-message" id="validation-message">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>Please select a candidate or choose abstain</span>
                    </div>
                </div>

                <!-- Navigation Controls -->
                <div class="navigation-controls">
                    <button class="nav-button prev-button" id="prev-button">
                        <i class="fas fa-arrow-left"></i>
                        Previous Position
                    </button>
                    
                    <div class="position-indicators" id="position-indicators">
                        <!-- Position indicators will be dynamically generated -->
                    </div>
                    
                    <button class="nav-button next-button" id="next-button">
                        Next Position
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- Save Draft Button -->
                <div class="save-draft-container">
                    <button class="save-draft-button" id="save-draft">
                        <i class="fas fa-save"></i>
                        Save Progress
                    </button>
                    <span class="auto-save-status" id="auto-save-status">Draft saved automatically</span>
                </div>
            </main>

            <!-- Position Summary Sidebar -->
            <aside class="voting-sidebar">
                <div class="sidebar-card">
                    <h3>Your Selections</h3>
                    <div class="selections-list" id="selections-list">
                        <!-- Selection items will be dynamically updated -->
                    </div>
                    
                    <div class="progress-summary">
                        <div class="progress-text">
                            <span id="completed-positions">0</span> of 13 positions completed
                        </div>
                        <div class="security-notice">
                            <i class="fas fa-shield-alt"></i>
                            All votes encrypted
                        </div>
                    </div>
                </div>

                <!-- Security & Trust Elements -->
                <div class="security-card">
                    <h4>Security Status</h4>
                    <div class="security-status">
                        <div class="status-item">
                            <i class="fas fa-lock"></i>
                            <span>Your votes are encrypted</span>
                        </div>
                        <div class="status-item">
                            <i class="fas fa-link"></i>
                            <span>Secured by Blockchain</span>
                        </div>
                        <div class="status-item">
                            <i class="fas fa-clock"></i>
                            <span>Session expires in <span id="session-timer">28:45</span></span>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Review & Submit Modal -->
    <div class="modal-overlay" id="review-modal">
        <div class="modal-content review-modal">
            <div class="modal-header">
                <h2>Review Your Ballot Before Submitting</h2>
                <button class="close-modal" id="close-review-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="warning-banner">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Votes cannot be changed after submission</span>
                </div>
                
                <div class="vote-summary" id="vote-summary">
                    <!-- Vote summary will be dynamically generated -->
                </div>
                
                <div class="final-actions">
                    <div class="security-check">
                        <i class="fas fa-check-circle"></i>
                        <span>All selections verified</span>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="back-to-edit" id="back-to-edit">
                            <i class="fas fa-arrow-left"></i>
                            Make Changes
                        </button>
                        <button class="submit-votes" id="submit-votes">
                            SUBMIT MY VOTES
                            <i class="fas fa-lock"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Vote Processing Modal -->
    <div class="modal-overlay" id="processing-modal">
        <div class="modal-content processing-modal">
            <div class="processing-animation">
                <div class="spinner"></div>
                <div class="blockchain-animation">
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                </div>
            </div>
            <h3>Recording Your Vote on Blockchain</h3>
            <p>Please wait while we securely record your selection...</p>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal-overlay" id="success-modal">
        <div class="modal-content success-modal">
            <div class="success-animation">
                <div class="checkmark">‚úì</div>
            </div>
            <h3>Vote Successfully Recorded!</h3>
            <p>Your vote has been securely recorded on the KIBU blockchain.</p>
            <div class="success-actions">
                <button class="view-receipt" id="view-receipt">
                    <i class="fas fa-receipt"></i>
                    View Receipt
                </button>
                <button class="back-to-dashboard" id="back-to-dashboard">
                    Back to Dashboard
                </button>
            </div>
        </div>
    </div>

    <!-- Connection Status -->
    <div class="connection-status" id="connection-status">
        <i class="fas fa-wifi"></i>
        <span>Connected</span>
    </div>

    <!-- Accessibility Controls -->
    <div class="accessibility-controls">
        <button class="accessibility-btn" id="high-contrast-toggle">
            <i class="fas fa-adjust"></i>
        </button>
        <button class="accessibility-btn" id="text-size-toggle">
            <i class="fas fa-text-height"></i>
        </button>
    </div>

    <script src="js/voting.js"></script>
</body>
</html>